<!DOCTYPE html>
<html>

<head>
    <title>Interactive Quiz Game</title>
    <link href="style.css" rel="stylesheet">

</head>

<body>

    <div class="pointCont">
        <div class="point">0</div>
        <div class="line"></div>
        <div class="wrong">0</div>
    </div>



    <div class="container">
        <div class="presentation">
            <div class="question">
                <h2 id="question">Which HTML attribute specifies an alternate text for an image, if the image cannot be
                    displayed?</h1>
            </div>
        </div>
        <div class='answer-box'>
            <div class="answer-row">
                <button onmouseover="disappear()" onmouseout="appear()" id="a1" class="answer a1">Answer 1</button>
                <button onmouseover="disappear()" onmouseout="appear()" id="a2" class="answer a2">Answer 2</button>
            </div>
            <div class="answer-row">
                <button onmouseover="disappear()" onmouseout="appear()" id="a3" class="answer a1">Answer 3</button>
                <button onmouseover="disappear()" onmouseout="appear()" id="a4" class="answer a2">Answer 4</button>
            </div>
        </div>

    </div>
    <div id="winner">
        <h2>
            <div id="winSelect" style="font-size: 70px;"></div>
        </h2>

        <button class="final" onclick="again()">Play again</button>



    </div>
    <div class=selector>

        <select id="topic-select">
            <option value="code">Code</option>
            <option value="general_knowledge">General Knowledge</option>
            <option value="politics">Politics</option>
            <option value="science">Science</option>
            <option value="business">Business</option>
            <option value="math">Math</option>
            <option value="unusual_food">Weird Foods</option>
            <option value="royals">Strange Royals</option>
        </select>
        <button onclick="redirectToPage()">Go</button>
        <button onclick="goHome()">HOME</button>
    </div>

    <script>
        function goHome() {
            window.location.href = '/index.html';

        }
        function disappear() {
            document.querySelectorAll('.answer').forEach(function (button) {
                button.style.opacity = '0.5';
            });

            event.currentTarget.style.opacity = '1';
        }

        function appear() {
            document.querySelectorAll('.answer').forEach(function (button) {
                button.style.opacity = '1';
            });
        }
        function redirectToPage() {
            var selectedTopic = document.getElementById("topic-select").value;
            window.location.href = selectedTopic + ".html";
        }
        let lastIndex = -1;



        let qList = [
            "What does the H in HTML stand for?",
            "Which tag is used to define an internal style sheet?",
            "What is the correct place to insert a JavaScript?",
            "What is the purpose of CSS?",
            "What does the M in DOM stand for in web development?",
            "What tag is used to create a hyperlink in HTML?",
            "What property is used to change the background color in CSS?",
            "Which HTML tag is used to define a paragraph?",
            "How do you add a comment in a CSS file?",
            "Which attribute is used to provide an alternative text for an image?",
            "In JavaScript, what keyword is used to declare a variable?",
            "What is the default display value for most elements in HTML?",
            "How do you select an element with the id 'demo' in CSS?",
            "What does the O in JSON stand for?",
            "How do you declare a function in JavaScript?",
            "Which HTML5 element is used for playing video files?",
            "What is the purpose of the <canvas> element in HTML5?",
            "In CSS, how do you select all <p> elements inside a <div>?",
            "Which method in JavaScript is used to round a number to its nearest integer?",
            "What is the correct syntax for referring to an external script called 'app.js'?",
            "What symbol is used in jQuery to select elements?",
            "Which HTML attribute specifies an alternate text for an image, if the image cannot be displayed?",
            "What does the 'display: none;' property do in CSS?",
            "Which property is used to change the font of an element in CSS?",
            "In which HTML element is the JavaScript code written?",
            "What does 'SQL' stand for?",
            "Which language is primarily used for database management?",
            "In HTML, which attribute is used to specify a unique identifier for an element?",
            "What is the default font-size of an element in most browsers?",
            "What does 'PHP' stand for?",
            "Which CSS property controls text size?",
            "In JavaScript, what will 'console.log(typeof 42)' output?",
            "What does 'HTTP' stand for?",
            "What is the purpose of a 'constructor' in JavaScript?",
            "In CSS, what is the difference between 'px' and 'em' units?",
            "What HTML attribute specifies the URL of an external script file?",
            "Which protocol is used to send emails?",
            "What is the main language used for Android app development?",
            "What does 'CSS' stand for?",
            "In web development, what is a 'frontend'?",
            "What is the use of 'async' attribute in a script tag?",
            "What is the term for a function that calls itself?",
            "Which HTML5 element is used for drawing graphics, using JavaScript?",
            "In CSS, how do you make a list that lists its items with squares?",
            "What is the command to create a new repository in Git?"
        ];

        let aList = [
            ["Hyper", "Hyperlinks ", "Home", "Haptic"],
            ["<style>", "<script>", "<css>", "<stylesheet>"],
            ["In <body>", "In <head>", "end of doc", "Just don't"],
            ["Styling", "Functionality", "Structuring", "Store data"],
            ["Model", "Marraige", "Module", "Management"],
            ["<a>", "<link>", "<href>", "<hyperlink>"],
            ["background-color", "bgcolor", "color", "background-image"],
            ["<p>", "<paragraph>", "<text>", "<para>"],
            ["/* c */", "// c", "<!-- c -->", "# c"],
            ["alt", "src", "title", "href"],
            ["var", "variable", "let", "const"],
            ["block", "inline", "none", "flex"],
            ["#demo", ".demo", "demo", "*demo"],
            ["Object", "Octane", "Oriented", "Open"],
            ["function f()", "var f()", "create f()", "new f()"],
            ["<video>", "<media>", "<movie>", "<stream>"],
            ["To draw", "To display", "To create", "To frame"],
            ["div p", "div.p", "p div", "div + p"],
            ["Math.round()", "Math.floor()", "Math.ceil()", "Math.int()"],
            ["<script src='app.js'>", "<script href='app.js'>", "<script ref='app.js'>", "<script link='app.js'>"],
            ["$", "!", "@", "#"],
            ["alt", "src", "title", "href"],
            ["It hides the element", "It changes the color of the element", "It enlarges the element", "It moves the element to the left"],
            ["font-family", "font-weight", "text-style", "font-size"],
            ["<script>", "<js>", "<javascript>", "<code>"],
            ["Structured Query Language", "Simple Query Language", "Standard Query Language", "Sequential Query Language"],
            ["SQL", "JavaScript", "Python", "C++"],
            ["id", "class", "name", "type"],
            ["16px", "12px", "14px", "18px"],
            ["PHP: Hypertext Preprocessor", "Personal Home Page", "Private Home Processor", "Primary Hypertext Processor"],
            ["font-size", "text-style", "font-weight", "font-family"],
            ["'number'", "'string'", "'object'", "'boolean'"],
            ["Hypertext Transfer Protocol", "Hyper Transfer Text Protocol", "Hypertext Transmit Protocol", "High Transfer Text Protocol"],
            ["To initialize an object's properties", "To declare a variable", "To write a function", "To store data"],
            ["'px' is absolute, 'em' is relative to the font-size of the element", "'px' is relative, 'em' is absolute", "There is no difference", "'px' is for width, 'em' is for height"],
            ["src", "href", "link", "script"],
            ["SMTP", "HTTP", "FTP", "TCP"],
            ["Java", "Swift", "C#", "Kotlin"],
            ["Cascading Style Sheets", "Creative Style Sheets", "Computer Style Sheets", "Colorful Style Sheets"],
            ["The part of a website that users interact with", "The server-side of a website", "The database of a website", "The design process of a website"],
            ["It executes the script asynchronously with the rest of the page", "It keeps the script in sync with the HTML", "It ensures the script runs after the page loads", "It prevents the script from running"],
            ["Recursive function", "Arrow function", "Anonymous function", "Callback function"],
            ["<canvas>", "<graphic>", "<draw>", "<sketch>"],
            ["list-style-type: square;", "list-style: square;", "list-type: square;", "list-item: square;"],
            ["git init", "git start", "git create", "git new"]
        ];

        function getRandomNumber(lastIndex) {
            let newIndex;
            do {
                newIndex = Math.floor(Math.random() * 45);
            } while (newIndex === lastIndex);
            return newIndex;
        }


        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }
        function again() {
            document.getElementById("winner").style.visibility = "hidden";
            let nUmElement = document.querySelector(".point");
            nUmElement.textContent = 0
            let numElement = document.querySelector(".wrong");
            numElement.textContent = 0;
        }

        function displayQuestion() {
            const index = getRandomNumber(lastIndex);
            lastIndex = index;
            const area = document.getElementById("question");
            area.textContent = qList[index];

            const answers = [...aList[index]]; // Create a copy of the answers array
            shuffleArray(answers); // Shuffle the answers

            // Assign shuffled answers to buttons and add 'correct' class to the correct one
            for (let i = 0; i < 4; i++) {
                const button = document.getElementById('a' + (i + 1));
                button.textContent = answers[i];
                button.classList.remove('correct'); // Remove the class if it was previously added
                if (answers[i] === aList[index][0]) { // Check if it's the correct answer
                    button.classList.add('correct');
                }
            }
        }







        function add() {
            let numElement = document.querySelector(".point");
            let num = parseFloat(numElement.textContent);
            num = num + 1;
            numElement.textContent = num;

            if (num >= 10) {
                document.getElementById("winner").style.visibility = "visible"; // Corrected the typo here
                document.getElementById("winSelect").textContent = "You win";

            }
        }
        function min() {

            let numElement = document.querySelector(".point");
            let num = parseFloat(numElement.textContent);
            if (num > 0) {
                num = num - 1;
                numElement.textContent = num;
            }
        }
        function addwrong() {
            let numElement = document.querySelector(".wrong");
            let num = parseFloat(numElement.textContent);
            num = num + 1;
            numElement.textContent = num;


            if (num >= 10) {
                document.getElementById("winner").style.visibility = "visible"; // Corrected the typo here
                document.getElementById("winSelect").textContent = "You lose";
            }
        }



        document.addEventListener("click", function (event) {
            if (event.target.classList.contains("correct") && event.target.classList.contains("answer")) {
                console.log('Correct answer clicked!');
                add()
                displayQuestion()
            } else if (event.target.classList.contains("answer")) {
                console.log('Incorrect answer clicked!');
                addwrong()
                displayQuestion();
            }



        });










        document.addEventListener('keydown', function (event) {

            if (event.key === 'q') {
                console.log('The "q" key was pressed.');
                displayQuestion()
            }
            if (event.key === 'p') {
                console.log('The "p" key was pressed.');
                add()
            }
            if (event.key === 'Backspace') {
                console.log('The "Backspace" key was pressed.');
                min()
            }
        });

        displayQuestion()


    </script>


</body>

</html>